{"version":3,"file":"router.js","sourceRoot":"","sources":["../../src/routes/router.ts"],"names":[],"mappings":";;;AAAA,qCAA6D;AAE7D,iFAA6E;AAC7E,qEAAiE;AACjE,gFAA2E;AAC3E,kFAA6E;AAC7E,kFAA6E;AAC7E,0FAAoF;AACpF,4FAAsF;AACtF,8FAAwF;AACxF,8FAAwF;AACxF,0FAAoF;AACpF,kEAA8D;AAE9D,yEAAoE;AACpE,2EAA0D;AAE1D,MAAM,eAAe,GAAG,IAAA,gBAAM,GAAE,CAAA;AAEhC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,4BAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,oCAAgB,CAAC,CAAA;AAClF,eAAe,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAW,CAAC,CAAA;AAC7C,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,yCAAkB,CAAC,CAAA;AAC5C,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,qCAAiB,CAAC,CAAA;AAE5C,MAAM,SAAS,GAAG,IAAA,gBAAM,GAAE,CAAA;AAE1B,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,kCAAe,CAAC,CAAA;AACzC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,oCAAgB,CAAC,CAAA;AAE3C,MAAM,UAAU,GAAG,IAAA,gBAAM,GAAE,CAAA;AAE3B,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,2CAAmB,CAAC,CAAA;AAC7C,UAAU,CAAC,GAAG,CAAC,SAAS,EAAE,6CAAoB,CAAC,CAAA;AAC/C,UAAU,CAAC,GAAG,CAAC,SAAS,EAAE,6CAAoB,CAAC,CAAA;AAC/C,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,yCAAkB,CAAC,CAAA;AAEvC,MAAM,SAAS,GAAG,CAAC,GAAY,EAAE,EAAE;IACjC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,+BAAc,EAAE,eAAe,CAAC,CAAA;IACjD,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,CAAC,CAAA;IAC1B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,CAAA;IACxB,GAAG,CAAC,GAAG,CAAC,4BAAY,CAAC,CAAA;IACrB,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,QAAkB,EAAE,EAAE;QAChC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;IACxB,CAAC,CAAC,CAAA;AACJ,CAAC,CAAA;AAEQ,8BAAS","sourcesContent":["import { Router, type Express, type Response } from 'express'\n\nimport { postUrlController } from '../controllers/urls/api/postUrlController'\nimport { urlAnalysis } from '../controllers/urls/api/urlAnalysis'\nimport { loginController } from '../controllers/users/api/login.controller'\nimport { signupController } from '../controllers/users/api/signup.controller'\nimport { uploadController } from '../controllers/users/api/upload.controller'\nimport { homeViewController } from '../controllers/users/views/home-view.controller'\nimport { loginViewController } from '../controllers/users/views/login-view.controller'\nimport { signupViewController } from '../controllers/users/views/signup-view.controller'\nimport { uploadViewController } from '../controllers/users/views/upload-view.controller'\nimport { userViewController } from '../controllers/users/views/user-view.controller'\nimport { authMiddleware } from '../middlewares/authMiddleware'\n\nimport { errorHandler } from '../utils/error-handlers/error.handler'\nimport { upload } from '../utils/user/uploadMulterService'\n\nconst protectedRoutes = Router()\n\nprotectedRoutes.post('/upload', upload.single('profilePicture'), uploadController)\nprotectedRoutes.get('/:shortId', urlAnalysis)\nprotectedRoutes.get('/', userViewController)\nprotectedRoutes.post('/', postUrlController)\n\nconst apiRouter = Router()\n\napiRouter.post('/login', loginController)\napiRouter.post('/signup', signupController)\n\nconst htmlRouter = Router()\n\nhtmlRouter.get('/login', loginViewController)\nhtmlRouter.get('/signup', signupViewController)\nhtmlRouter.get('/upload', uploadViewController)\nhtmlRouter.get('/', homeViewController)\n\nconst appRouter = (app: Express) => {\n  app.use('/user', authMiddleware, protectedRoutes)\n  app.use('/api', apiRouter)\n  app.use('/', htmlRouter)\n  app.use(errorHandler)\n  app.use((_, response: Response) => {\n    response.redirect('/')\n  })\n}\n\nexport { appRouter }"]}