{"version":3,"file":"upload.controller.js","sourceRoot":"","sources":["../../../../src/controllers/users/api/upload.controller.ts"],"names":[],"mappings":";;;;;;AAEA,wFAA+D;AAC/D,6DAAyD;AAElD,MAAM,gBAAgB,GAAmB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IACjE,IAAI,CAAC;QACH,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAA;QAClC,MAAM,cAAc,GAAG,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAA;QAEzC,mCAAmC;QAEnC,IAAA,6BAAa,EAAC,MAAgB,EAAE,cAAwB,CAAC,CAAA;QAEzD,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA;IAC9B,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,IAAI,CAAC,IAAI,mBAAS,CAAC,GAAG,KAAK,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;IACtC,CAAC;AACH,CAAC,CAAA;AAbY,QAAA,gBAAgB,oBAa5B","sourcesContent":["import type { RequestHandler } from 'express'\n\nimport HttpError from '../../../utils/error-handlers/HttpError'\nimport { uploadPicture } from '../services/uploadPicture'\n\nexport const uploadController: RequestHandler = (req, res, next) => {\n  try {\n    const userId = res.locals.user?.id\n    const profilePicture = req.file?.filename\n\n    // console.log(req.file) debugging \n\n    uploadPicture(userId as string, profilePicture as string)\n\n    return res.redirect('/user')\n  } catch (error) {\n    next(new HttpError(`${error}`, 404))\n  }\n}"]}