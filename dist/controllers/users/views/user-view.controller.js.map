{"version":3,"file":"user-view.controller.js","sourceRoot":"","sources":["../../../../src/controllers/users/views/user-view.controller.ts"],"names":[],"mappings":";;;;;;AAEA,yDAAgE;AAEhE,wFAA+D;AAC/D,iDAAiD;AAE1C,MAAM,kBAAkB,GAAmB,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IACvE,IAAI,CAAC;QACH,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAA;QAElC,IAAI,CAAC,MAAM;YAAE,OAAO,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;QAEvC,MAAM,IAAI,GAAG,CAAC,MAAM,IAAA,4BAAkB,EAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAA;QAErD,MAAM,IAAI,GAAG,MAAM,IAAA,qBAAW,EAAC,MAAM,CAAC,CAAA;QAEtC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAA;IACpC,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,IAAI,CAAC,IAAI,mBAAS,CAAC,GAAG,KAAK,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;IAC7C,CAAC;AACH,CAAC,CAAA;AAdY,QAAA,kBAAkB,sBAc9B","sourcesContent":["import type { RequestHandler } from 'express'\n\nimport { getUrlsControllers } from '../../urls/services/getUrls'\n\nimport HttpError from '../../../utils/error-handlers/HttpError'\nimport { getUserById } from '../services/getUser'\n\nexport const userViewController: RequestHandler = async (_, res, next) => {\n  try {\n    const userId = res.locals.user?.id\n\n    if (!userId) return res.render('login')\n\n    const urls = (await getUrlsControllers(userId)) || []\n\n    const user = await getUserById(userId)\n\n    res.render('user', { urls, user })\n  } catch (error) {\n    return next(new HttpError(`${error}`, 409))\n  }\n}"]}